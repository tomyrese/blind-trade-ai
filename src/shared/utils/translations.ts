import { create } from 'zustand';
import { useUserStore } from '../stores/userStore';

type Language = 'vi' | 'en';

const translations = {
  vi: {
    // Common
    welcome: 'Chào mừng',
    loading: 'Đang tải...',
    error: 'Có lỗi xảy ra',
    success: 'Thành công',
    cancel: 'Hủy',
    confirm: 'Xác nhận',
    save: 'Lưu',
    close: 'Đóng',
    condition: 'Yêu cầu',
    items: 'thẻ',
    
    // UI Labels
    add_success: 'Đã thêm vào bộ sưu tập!',
    remove_success: 'Đã xóa',
    listed_by: 'Bán bởi',
    avatar_success: 'Cập nhật avatar thành công',
    change_avatar: 'Đổi Ảnh Đại Diện',
    pick_from_gallery: 'Thư viện ảnh',
    pick_preset: 'Ảnh đại diện có sẵn',
    gallery_permission_denied: 'Quyền truy cập thư viện bị từ chối',
    
    // Navigation
    nav_home: 'Trang Chủ',
    nav_portfolio: 'Sưu Tập',
    nav_tradeup: 'Hợp Nhất',
    nav_aichat: 'Poké-AI',
    nav_profile: 'Trainer',
    nav_cart: 'Giỏ Hàng',
    nav_payment: 'Thanh Toán',
    
    // Portfolio
    portfolio_total_value: 'Tổng Giá Trị Bộ Sưu Tập',
    updated_just_now: 'Cập nhật vừa xong',
    pokemon_inventory: 'Kho Thẻ Pokémon',
    no_assets_owned: 'Bạn chưa sở hữu thẻ bài nào.',
    profit: 'Lợi nhuận',
    loss: 'Lỗ',
    ai_valuation: 'Đánh giá AI',
    recent_sales: 'Lịch sử giao dịch',
    ai_analysis: 'Phân tích AI',
    liquidity: 'Thanh khoản',
    purchase_price: 'Giá lúc mua',
    current_value: 'Giá hiện tại',
    market_stats: 'Thị Trường',
    view_details: 'Xem Chi Tiết',
    quick_sell: 'Bán Nhanh',
    send_to_fusion: 'Hợp Nhất Thẻ',
    
    // Trade Up
    fusion_value: 'Giá trị hợp nhất',
    fusion_upgrade: 'Nâng cấp',
    fusion_risk: 'Rủi ro',
    no_cards_selected: 'Chưa có thẻ nào được chọn',
    start_fusion: 'BẮT ĐẦU HỢP NHẤT',
    your_inventory: 'Kho Thẻ Của Bạn',
    filter: 'Lọc',
    no_cards_to_fuse: 'Bạn không có thẻ bài nào để hợp nhất.',
    fusion_limit_title: 'Giới hạn',
    fusion_limit_message: 'Bạn chỉ có thể chọn tối đa 10 thẻ để hợp nhất.',
    fusion_requirement_title: 'Yêu cầu',
    fusion_requirement_message: 'Bạn cần ít nhất 2 thẻ bài để bắt đầu hợp nhất.',
    no_results_found: 'Không tìm thấy kết quả nào.',
    
    // Cart
    cart_title: 'Giỏ Hàng',
    cart_empty_title: 'Giỏ hàng trống',
    cart_empty_desc: 'Bạn chưa chọn thẻ bài nào. Hãy dạo quanh chợ và tìm cho mình những thẻ bài ưng ý nhé!',
    total_price: 'Tổng cộng',
    vat_included: '(Đã bao gồm VAT)',
    checkout_now: 'THANH TOÁN NGAY',
    
    // Favorites
    favorites_title: 'Yêu Thích',
    no_favorites_title: 'Chưa có yêu thích',
    no_favorites_desc: 'Hãy thả tim những thẻ bài bạn quan tâm để lưu lại vào đây nhé!',
    
    // Profile
    profile_title: 'Hồ sơ',
    level: 'Cấp độ',
    rank: 'Hạng',
    my_collection: 'Bộ Sưu Tập',
    pokedex_progress: 'Tiến độ Pokedex',
    edit_profile: 'Sửa Hồ Sơ',
    trainer_name: 'Tên Trainer',
    phone: 'Số Điện Thoại',
    address: 'Địa Chỉ',
    bio: 'Giới Thiệu',
    save_changes: 'Lưu Thay Đổi',
    titles: 'Danh Hiệu',
    titles_subtitle: 'Mở khóa danh hiệu để hiển thị đẳng cấp Trainer của bạn!',
    system_settings: 'Hệ Thống',
    notifications: 'Thông báo',
    info: 'Thông báo',
    vip_packages: 'Gói VIP',
    random_avatar_confirm: 'Chọn avatar ngẫu nhiên mới?',
    equip_success: 'Đã trang bị danh hiệu mới!',
    update_success: 'Cập nhật hồ sơ thành công!',
    vip_success: 'Nâng cấp VIP thành công!',
    logout_success: 'Đăng xuất thành công',
    coming_soon: 'Đang phát triển',
    balance: 'Số dư',
    deposit: 'Nạp tiền',
    scratch_card: 'Thẻ cào',
    bank_transfer: 'Ngân hàng',
    deposit_success: 'Nạp tiền ảo thành công!',
    deposit_virtual: 'Nạp ảo 500k',
    insufficient_balance: 'Số dư không đủ để thanh toán!',
    purchase_success: 'Thanh toán thành công!',
    items_added_to_collection: 'Vật phẩm đã được thêm vào bộ sưu tập.',
    view_portfolio: 'Về Bộ Sưu Tập',
    total_paid: 'Tổng thanh toán',
    
    // Market
    search_placeholder: 'Tìm kiếm Pokémon...',
    sort_by: 'Sắp xếp theo',
    sort_price_asc: 'Giá: Thấp đến Cao',
    sort_price_desc: 'Giá: Cao đến Thấp',
    sort_rarity_asc: 'Độ hiếm: Thấp đến Cao',
    sort_rarity_desc: 'Độ hiếm: Cao đến Thấp',
    sort_date_newest: 'Mới đăng bán',
    sort_date_oldest: 'Cũ nhất',
    sort_name_asc: 'Tên: A-Z',
    tab_hot: 'Xu Hướng',
    tab_all: 'Tất Cả',
    no_cards_found: 'Không tìm thấy thẻ bài nào.',
    
    security: 'Bảo Mật',
    support: 'Hỗ Trợ',
    logout: 'Đăng Xuất',
    logout_confirm_title: 'Đăng Xuất',
    logout_confirm_message: 'Bạn có chắc chắn muốn rời khỏi Poké-Market?',
    upgrade_vip: 'Nâng Cấp VIP',
    vip_benefits: 'Quyền lợi VIP',
    vip_month: 'Gói Tháng',
    vip_year: 'Gói Năm',
    vip_lifetime: 'Trọn Đời',
    vip_owned: 'Đã sở hữu',
    vip_member_forever: 'Thành Viên Trọn Đời',
    vip_forever_desc: 'Bạn đã sở hữu gói VIP cao cấp nhất.\nTận hưởng đặc quyền không giới hạn vĩnh viễn!',
    vip_activated: 'Đã Kích Hoạt',
    vip_confirm_title: 'Xác Nhận Thanh Toán',
    vip_confirm_message: 'Bạn chắc chắn muốn nâng cấp gói',
    pay_now: 'Thanh Toán Ngay',
    select_package: 'Chọn Gói Để Tiếp Tục',
    confirm_upgrade: 'Xác Nhận Nâng Cấp',
    payment_method: 'Phương thức thanh toán',
    finance_shopping: 'Mua sắm & Giao dịch',
    purchase_history: 'Lịch sử giao dịch',
    transaction_details: 'Chi tiết giao dịch',
    add_payment_method: 'Thêm phương thức',
    card_number: 'Số thẻ',
    expiry_date: 'Ngày hết hạn',
    cvv: 'Mã bảo mật (CVV)',
    scratch_card_desc: 'Nạp bằng thẻ cào điện thoại',
    subtotal: 'Tạm tính',
    tax: 'Thuế (VAT)',
    shipping: 'Vận chuyển',
    total: 'Tổng cộng',
    promo_code: 'Mã giảm giá',
    apply: 'Áp dụng',
    transaction_id: 'Mã giao dịch',
    transaction_date: 'Ngày giao dịch',
    transaction_type: 'Loại giao dịch',
    transaction_status: 'Trạng thái',
    items_count: 'Số lượng vật phẩm',
    balance_before: 'Số dư trước',
    balance_after: 'Số dư sau',
    items_count_suffix: 'vật phẩm',
    enter_promo_code: 'Nhập mã giảm giá',
    invalid_promo_code: 'Mã giảm giá không hợp lệ',
    promo_code_applied: 'Đã áp dụng mã giảm giá!',
    default_payment: 'Mặc định',
    set_as_default: 'Đặt làm mặc định',
    remove_payment: 'Xóa phương thức',
    confirm_remove_pm: 'Bạn có chắc muốn xóa phương thức thanh toán này?',
    order_items: 'Vật phẩm đơn hàng',
    price_details: 'Chi tiết giá',
    billing_address: 'Địa chỉ thanh toán',
    payment_summary: 'Tóm tắt thanh toán',
    receipt_ready: 'Hóa đơn đã sẵn sàng để tải xuống',
    download_receipt: 'Tải Hóa Đơn',
    share_transaction: 'Chia Sẻ Giao Dịch',
    bank_name: 'Tên ngân hàng',
    account_number: 'Số tài khoản',
    account_holder: 'Chủ tài khoản',
    copied: 'Đã sao chép vào bộ nhớ tạm',
    enter_card_code: 'Nhập mã thẻ 12 số',
    deposit_amount: 'Số tiền nạp',
    deposit_type: 'Loại nạp tiền',
    card_type: 'Loại thẻ',
    card_value: 'Mệnh giá',
    viettel: 'Viettel',
    mobifone: 'Mobifone',
    vinaphone: 'Vinaphone',
    invalid_card_code: 'Mã thẻ phải có 12 chữ số',
    please_select_card_type: 'Vui lòng chọn loại thẻ',
    please_enter_card_code: 'Vui lòng nhập mã thẻ',
    bank_transfer_desc: 'Chuyển khoản ngân hàng 24/7. Số dư được cập nhật sau 5-10 phút.',
    
    // Settings
    settings_title: 'Cài Đặt Hệ Thống',
    general: 'Chung',
    sound: 'Âm Thanh',
    vibration: 'Rung',
    options: 'Tùy Chọn',
    language: 'Ngôn Ngữ',
    currency: 'Tiền Tệ',
    data: 'Dữ Liệu',
    clear_cache: 'Xóa Bộ Nhớ Cache',
    cache_cleared: 'Đã xóa cache thành công!',
    save_settings: 'Lưu Cài Đặt',
    
    // Titles
    equip: 'Trang bị',
    equipped: 'Đang dùng',
    locked: 'Chưa mở khóa',

    // Auth
    login: 'Đăng nhập',
    register: 'Đăng ký',
    email: 'Email',
    password: 'Mật khẩu',
    full_name: 'Họ và tên',
    confirm_password: 'Xác nhận mật khẩu',
    login_subtitle: 'Chào mừng trở lại, Nhà huấn luyện!',
    register_subtitle: 'Bắt đầu cuộc hành trình ngay hôm nay!',
    no_account: 'Chưa có tài khoản?',
    register_now: 'Đăng ký ngay',
    already_have_account: 'Đã có tài khoản?',
    create_account: 'Tạo tài khoản',
    please_fill_all_fields: 'Vui lòng điền đầy đủ thông tin',
    passwords_do_not_match: 'Mật khẩu không khớp',
    password_too_short: 'Mật khẩu phải có ít nhất 6 ký tự',
    something_went_wrong: 'Đã có lỗi xảy ra',
    invalid_credentials: 'Email hoặc mật khẩu không đúng',
    registration_failed: 'Đăng ký thất bại',
    registration_success: 'Tạo tài khoản thành công! Vui lòng đăng nhập.',
    or: 'HOẶC',
    login_demo: 'Sử dụng tài khoản Demo',
    // Titles
    title_rookie: 'Tân Binh',
    desc_rookie: 'Chào mừng đến với thế giới Pokémon!',
    cond_rookie: 'Mặc định',
    title_collector: 'Nhà Sưu Tập',
    desc_collector: 'Sở hữu 50 thẻ bài khác nhau',
    cond_collector: 'Sở hữu 50 thẻ',
    title_pro_trader: 'Thương Gia',
    desc_pro_trader: 'Thực hiện thành công 10 giao dịch',
    cond_pro_trader: '10 Giao dịch',
    title_elite: 'Tinh Anh',
    desc_elite: 'Đạt cấp độ 50',
    cond_elite: 'Level 50',
    title_champion: 'Nhà Vô Địch',
    desc_champion: 'Đạt cấp độ 90',
    cond_champion: 'Level 90',
    title_vip_member: 'Thành Viên VIP',
    desc_vip_member: 'Dành riêng cho người dùng VIP',
    cond_vip_member: 'Là VIP',
    title_legendary: 'Huyền Thoại',
    desc_legendary: 'Sở hữu thẻ bài cấp Legendary',
    cond_legendary: 'Sở hữu thẻ Legendary',

    // AI Chat
    ai_chat_greeting: 'Chào bạn! Tôi là Poké-AI. Tôi có thể giúp bạn kiểm tra giá cả, độ hiếm hoặc bất kỳ thông tin nào về Pokémon. Bạn muốn hỏi gì?',
    ai_chat_placeholder: 'Hỏi Poké-AI về Pokémon...',
    ai_chat_status: 'Online | Sẵn sàng hỗ trợ',
    ai_chat_error: 'Đã xảy ra lỗi. Vui lòng thử lại.',
  },
  en: {
    // Common
    welcome: 'Welcome',
    loading: 'Loading...',
    error: 'An error occurred',
    success: 'Success',
    cancel: 'Cancel',
    confirm: 'Confirm',
    save: 'Save',
    close: 'Close',
    condition: 'Condition',
    items: 'items',
    
    // UI Labels
    add_success: 'Added to collection!',
    remove_success: 'Removed',
    listed_by: 'Listed by',
    avatar_success: 'Avatar updated successfully',
    change_avatar: 'Change Avatar',
    pick_from_gallery: 'Photo Gallery',
    pick_preset: 'Preset Avatars',
    gallery_permission_denied: 'Gallery permission denied',
    
    // Navigation
    nav_home: 'Home',
    nav_portfolio: 'Portfolio',
    nav_tradeup: 'Trade Up',
    nav_aichat: 'Poké-AI',
    nav_profile: 'Trainer',
    nav_cart: 'Cart',
    nav_payment: 'Payment',
    
    // Portfolio
    portfolio_total_value: 'Total Collection Value',
    updated_just_now: 'Just updated',
    pokemon_inventory: 'Pokémon Inventory',
    no_assets_owned: 'You do not own any cards yet.',
    profit: 'Profit',
    loss: 'Loss',
    ai_valuation: 'AI Valuation',
    recent_sales: 'Recent Sales',
    ai_analysis: 'AI Analysis',
    liquidity: 'Liquidity',
    purchase_price: 'Purchase Price',
    current_value: 'Current Value',
    market_stats: 'Market Stats',
    view_details: 'View Details',
    quick_sell: 'Quick Sell',
    send_to_fusion: 'Send to Fusion',
    
    // Trade Up
    fusion_value: 'Fusion Value',
    fusion_upgrade: 'Upgrade',
    fusion_risk: 'Risk',
    no_cards_selected: 'No cards selected',
    start_fusion: 'START FUSION',
    your_inventory: 'Your Inventory',
    filter: 'Filter',
    no_cards_to_fuse: 'You have no cards to fuse.',
    fusion_limit_title: 'Limit',
    fusion_limit_message: 'You can only select up to 10 cards for fusion.',
    fusion_requirement_title: 'Requirement',
    fusion_requirement_message: 'You need at least 2 cards to start fusion.',
    no_results_found: 'No results found.',
    
    // Cart
    cart_title: 'Shopping Cart',
    cart_empty_title: 'Cart is empty',
    cart_empty_desc: 'You haven\'t selected any cards yet. Browse the market to find something you like!',
    total_price: 'Total',
    vat_included: '(VAT Included)',
    checkout_now: 'CHECKOUT NOW',
    
    // Favorites
    favorites_title: 'Favorites',
    no_favorites_title: 'No favorites yet',
    no_favorites_desc: 'Heart the cards you\'re interested in to save them here!',
    
    // Profile
    profile_title: 'Profile',
    level: 'Level',
    rank: 'Rank',
    my_collection: 'My Collection',
    pokedex_progress: 'Pokedex Progress',
    edit_profile: 'Edit Profile',
    trainer_name: 'Trainer Name',
    phone: 'Phone Number',
    address: 'Address',
    bio: 'Bio',
    save_changes: 'Save Changes',
    titles: 'Titles',
    titles_subtitle: 'Unlock titles to show off your Trainer class!',
    system_settings: 'System',
    notifications: 'Notifications',
    info: 'Info',
    vip_packages: 'VIP Packages',
    random_avatar_confirm: 'Choose a new random avatar?',
    equip_success: 'New title equipped!',
    update_success: 'Profile updated successfully!',
    vip_success: 'VIP upgrade successful!',
    logout_success: 'Logged out successfully',
    coming_soon: 'Coming soon',
    balance: 'Balance',
    deposit: 'Deposit',
    scratch_card: 'Scratch Card',
    bank_transfer: 'Bank Transfer',
    deposit_success: 'Virtual deposit successful!',
    deposit_virtual: 'Add 500k Virtual',
    insufficient_balance: 'Insufficient balance!',
    purchase_success: 'Purchase successful!',
    items_added_to_collection: 'Items have been added to your collection.',
    view_portfolio: 'View Collection',
    total_paid: 'Total Paid',

    // Market
    search_placeholder: 'Search Pokémon...',
    sort_by: 'Sort by',
    sort_price_asc: 'Price: Low to High',
    sort_price_desc: 'Price: High to Low',
    sort_rarity_asc: 'Rarity: Low to High',
    sort_rarity_desc: 'Rarity: High to Low',
    sort_date_newest: 'Newest Listed',
    sort_date_oldest: 'Oldest',
    sort_name_asc: 'Name: A-Z',
    tab_hot: 'Trending',
    tab_all: 'All',
    no_cards_found: 'No cards found.',

    // Settings
    security: 'Security',
    support: 'Support',
    logout: 'Logout',
    logout_confirm_title: 'Logout',
    logout_confirm_message: 'Are you sure you want to leave Poké-Market?',
    upgrade_vip: 'Upgrade to VIP',
    vip_benefits: 'VIP Benefits',
    vip_month: 'Monthly',
    vip_year: 'Yearly',
    vip_lifetime: 'Lifetime',
    vip_owned: 'Owned',
    vip_member_forever: 'Lifetime Member',
    vip_forever_desc: 'You have the highest VIP tier.\nEnjoy unlimited benefits forever!',
    vip_activated: 'Activated',
    vip_confirm_title: 'Confirm Payment',
    vip_confirm_message: 'Are you sure you want to upgrade to',
    pay_now: 'Pay Now',
    select_package: 'Select Package to Continue',
    confirm_upgrade: 'Confirm Upgrade',
    payment_method: 'Payment Method',
    finance_shopping: 'Finance & Shopping',
    purchase_history: 'Transaction History',
    transaction_details: 'Transaction Details',
    add_payment_method: 'Add Payment Method',
    card_number: 'Card Number',
    expiry_date: 'Expiry Date',
    cvv: 'Security Code (CVV)',
    bank_transfer_desc: 'Direct bank transfer',
    scratch_card_desc: 'Top up via scratch card',
    subtotal: 'Subtotal',
    tax: 'Tax (VAT)',
    bank_name: 'Bank Name',
    account_number: 'Account Number',
    account_holder: 'Account Holder',
    copied: 'Copied to clipboard',
    enter_card_code: 'Enter 12-digit card code',
    deposit_amount: 'Deposit Amount',
    deposit_type: 'Deposit Type',
    card_type: 'Card Type',
    card_value: 'Card Value',
    viettel: 'Viettel',
    mobifone: 'Mobifone',
    vinaphone: 'Vinaphone',
    invalid_card_code: 'Card code must be 12 digits',
    please_select_card_type: 'Please select card type',
    shipping: 'Shipping',
    total: 'Total',
    promo_code: 'Promo Code',
    apply: 'Apply',
    transaction_id: 'Transaction ID',
    transaction_date: 'Transaction Date',
    transaction_type: 'Transaction Type',
    transaction_status: 'Status',
    items_count: 'Items Count',
    balance_before: 'Balance Before',
    balance_after: 'Balance After',
    items_count_suffix: 'items',
    enter_promo_code: 'Enter promo code',
    invalid_promo_code: 'Invalid promo code',
    promo_code_applied: 'Promo code applied!',
    default_payment: 'Default',
    set_as_default: 'Set as default',
    remove_payment: 'Remove payment method',
    confirm_remove_pm: 'Are you sure you want to remove this payment method?',
    order_items: 'Order Items',
    price_details: 'Price Details',
    billing_address: 'Billing Address',
    payment_summary: 'Payment Summary',
    receipt_ready: 'Your receipt is ready to download',
    download_receipt: 'Download Receipt',
    share_transaction: 'Share Transaction',
    please_enter_card_code: 'Please enter card code',
    
    settings_title: 'System Settings',
    general: 'General',
    sound: 'Sound',
    vibration: 'Vibration',
    options: 'Options',
    language: 'Language',
    currency: 'Currency',
    data: 'Data',
    clear_cache: 'Clear Cache',
    cache_cleared: 'Cache cleared successfully!',
    save_settings: 'Save Settings',
    
    // Titles
    equip: 'Equip',
    equipped: 'Equipped',
    locked: 'Locked',

    // Auth
    login: 'Login',
    register: 'Register',
    email: 'Email',
    password: 'Password',
    full_name: 'Full Name',
    confirm_password: 'Confirm Password',
    login_subtitle: 'Welcome back, Trainer!',
    register_subtitle: 'Start your journey today!',
    no_account: "Don't have an account?",
    register_now: 'Register Now',
    already_have_account: 'Already have an account?',
    create_account: 'Create Account',
    please_fill_all_fields: 'Please fill all fields',
    passwords_do_not_match: 'Passwords do not match',
    password_too_short: 'Password must be at least 6 characters',
    something_went_wrong: 'Something went wrong',
    invalid_credentials: 'Invalid email or password',
    registration_failed: 'Registration failed',
    registration_success: 'Account created successfully! Please login.',
    or: 'OR',
    login_demo: 'Use Demo Account',
    // Titles
    title_rookie: 'Rookie',
    desc_rookie: 'Welcome to the Pokémon world!',
    cond_rookie: 'Default',
    title_collector: 'Collector',
    desc_collector: 'Own 50 different cards',
    cond_collector: 'Own 50 cards',
    title_pro_trader: 'Pro Trader',
    desc_pro_trader: 'Complete 10 successful trades',
    cond_pro_trader: '10 Trades',
    title_elite: 'Elite',
    desc_elite: 'Reach level 50',
    cond_elite: 'Level 50',
    title_champion: 'Champion',
    desc_champion: 'Reach level 90',
    cond_champion: 'Level 90',
    title_vip_member: 'VIP Member',
    desc_vip_member: 'Exclusive for VIP trainers',
    cond_vip_member: 'Is VIP',
    title_legendary: 'Legendary',
    desc_legendary: 'Own a Legendary card',
    cond_legendary: 'Own Legendary',

    // AI Chat
    ai_chat_greeting: 'Hello! I am Poké-AI. I can help you check prices, rarity, or any information about Pokémon. What would you like to ask?',
    ai_chat_placeholder: 'Ask Poké-AI about Pokémon...',
    ai_chat_status: 'Online | Ready to assist',
    ai_chat_error: 'An error occurred. Please try again.',
  }
};

export const useTranslation = () => {
  const language = useUserStore((state) => state.language);
  
  const t = (key: keyof typeof translations['vi']) => {
    return translations[language][key] || key;
  };

  return { t, language };
};
